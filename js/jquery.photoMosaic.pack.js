/*
      mustache.js â€” Logic-less templates in JavaScript
      See http://mustache.github.com/ for more info.
*/
(function(window){var Mustache=function(){var Renderer=function(){};Renderer.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(template,context,partials,in_recursion){if(!in_recursion){this.context=context;this.buffer=[];}
if(!this.includes("",template)){if(in_recursion){return template;}else{this.send(template);return;}}
template=this.render_pragmas(template);var html=this.render_section(template,context,partials);if(in_recursion){return this.render_tags(html,context,partials,in_recursion);}
this.render_tags(html,context,partials,in_recursion);},send:function(line){if(line!=""){this.buffer.push(line);}},render_pragmas:function(template){if(!this.includes("%",template)){return template;}
var that=this;var regex=new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+
this.ctag);return template.replace(regex,function(match,pragma,options){if(!that.pragmas_implemented[pragma]){throw({message:"This implementation of mustache doesn't understand the '"+
pragma+"' pragma"});}
that.pragmas[pragma]={};if(options){var opts=options.split("=");that.pragmas[pragma][opts[0]]=opts[1];}
return"";});},render_partial:function(name,context,partials){name=this.trim(name);if(!partials||partials[name]===undefined){throw({message:"unknown_partial '"+name+"'"});}
if(typeof(context[name])!="object"){return this.render(partials[name],context,partials,true);}
return this.render(partials[name],context[name],partials,true);},render_section:function(template,context,partials){if(!this.includes("#",template)&&!this.includes("^",template)){return template;}
var that=this;var regex=new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg");return template.replace(regex,function(match,type,name,content){var value=that.find(name,context);if(type=="^"){if(!value||(that.is_array(value)&&value.length===0)){return that.render(content,context,partials,true);}else{return"";}}else if(type=="#"){if(that.is_array(value)){return that.map(value,function(row){return that.render(content,that.create_context(row),partials,true);}).join("");}else if(that.is_object(value)){return that.render(content,that.create_context(value),partials,true);}else if(typeof value==="function"){return value.call(context,content,function(text){return that.render(text,context,partials,true);});}else if(value){return that.render(content,context,partials,true);}else{return"";}}});},render_tags:function(template,context,partials,in_recursion){var that=this;var new_regex=function(){return new RegExp(that.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+
that.ctag+"+","g");};var regex=new_regex();var tag_replace_callback=function(match,operator,name){switch(operator){case"!":return"";case"=":that.set_delimiters(name);regex=new_regex();return"";case">":return that.render_partial(name,context,partials);case"{":return that.find(name,context);default:return that.escape(that.find(name,context));}};var lines=template.split("\n");var i;for(i=0;i<lines.length;i++){lines[i]=lines[i].replace(regex,tag_replace_callback,this);if(!in_recursion){this.send(lines[i]);}}
if(in_recursion){return lines.join("\n");}},set_delimiters:function(delimiters){var dels=delimiters.split(" ");this.otag=this.escape_regex(dels[0]);this.ctag=this.escape_regex(dels[1]);},escape_regex:function(text){if(!arguments.callee.sRE){var specials=['/','.','*','+','?','|','(',')','[',']','{','}','\\'];arguments.callee.sRE=new RegExp('(\\'+specials.join('|\\')+')','g');}
return text.replace(arguments.callee.sRE,'\\$1');},find:function(name,context){name=this.trim(name);function is_kinda_truthy(bool){return bool===false||bool===0||bool;}
var value;if(is_kinda_truthy(context[name])){value=context[name];}else if(is_kinda_truthy(this.context[name])){value=this.context[name];}
if(typeof value==="function"){return value.apply(context);}
if(value!==undefined){return value;}
return"";},includes:function(needle,haystack){return haystack.indexOf(this.otag+needle)!=-1;},escape:function(s){s=String(s===null?"":s);return s.replace(/&(?!\w+;)|["'<>\\]/g,function(s){switch(s){case "&": return "&amp;";case "\\": return "\\\\";case '"': return '&quot;';case "'": return '&#39;';case "<": return "&lt;";case ">": return "&gt;";default: return s;}});},create_context:function(_context){if(this.is_object(_context)){return _context;}else{var iterator=".";if(this.pragmas["IMPLICIT-ITERATOR"]){iterator=this.pragmas["IMPLICIT-ITERATOR"].iterator;}
var ctx={};ctx[iterator]=_context;return ctx;}},is_object:function(a){return a&&typeof a=="object";},is_array:function(a){return Object.prototype.toString.call(a)==='[object Array]';},trim:function(s){return s.replace(/^\s*|\s*$/g,"");},map:function(array,fn){if(typeof array.map=="function"){return array.map(fn);}else{var r=[],l=array.length,i;for(i=0;i<l;i++){r.push(fn(array[i]));}
return r;}}};return({name:"mustache.js",version:"0.3.1-dev",to_html:function(template,view,partials,send_fun){var renderer=new Renderer();if(send_fun){renderer.send=send_fun;}
renderer.render(template,view,partials);if(!send_fun){return renderer.buffer.join("\n");}}});}();window['PhotoMosaic']={};window['PhotoMosaic'].Mustache=Mustache;})(window);

/*
    jQuery photoMosaic v1.7
    jQuery photoMosaic for Wordpress v1.2
    requires jQuery 1.5+ & Mustache (included above)
*/
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('(g($){c(2D C==="2f"){C={M:g(2y){C.2G.z(2y)},2G:[]}}o G=g(){};$.2I(G.3u,{2B:g(2V,1w,i){o 2W={I:\'f\',s:\'14\',D:2,d:3,m:\'1E\',9:\'1E\',1A:O,1X:11,1y:11,1r:11,2J:11,36:3t,2g:11,1s:1N,2x:O,1Q:1N};6.8=$.2I({},2W,1w);6.N=$(2V);6.L=(2d.3r(2c 2d())+x.3M(x.1y()*3I));6.1h=\'2z\'+6.L;6.7=[];6.d=[];c(6.8.m===\'1E\'){6.8.m=6.N.m()}6.37();6.2p=(6.8.m-(6.8.D*(6.8.d-1)))%6.8.d;6.2m=((6.8.m-6.2p)-(6.8.D*(6.8.d-1)))/6.8.d;6.35=\' \'+\'<R L="2H\'+6.L+\'" 1H="G">\'+\'{{#d}}\'+\'<2E 1W="3k:26; 2h:0 {{^16}}{{D}}V 0 0{{/16}}">\'+\'{{#7}}\'+\'<2M 1W="m:{{#m}}{{A}}{{/m}}V; 9:{{#9}}{{A}}{{/9}}V; 2h:0 {{^16}}0 {{D}}V 0{{/16}}">\'+\'{{#T}}<a 2j="{{1e}}" {{#1x}}3c="3b"{{/1x}} {{#1a}}38="{{1a}}"{{/1a}} {{#K}}1o="{{K}}"{{/K}}>{{/T}}\'+\'<P u="{{u}}" 1W="\'+\'m:{{#m}}{{p}}{{/m}}V; \'+\'9:{{#9}}{{p}}{{/9}}V; \'+\'{{#1m}}{{1Y}}:-{{24}}V;{{/1m}}" \'+\'1o="{{K}}"/>\'+\'{{#T}}</a>{{/T}}\'+\'</2M>\'+\'{{/7}}\'+\'</2E>\'+\'{{/d}}\'+\'</R>\';6.2s=\' \'+\'<R L="2H\'+6.L+\'" 1H="G">\'+\'<R 1H="3f">3j s...</R>\'+\'</R>\';c(6.8.I===\'1S\'&&6.8.s===\'\'){C.M("F: U: 1v 1Z 32 1e 1V.");q}c(6.8.I===\'1S\'&&6.8.s===\'14\'){C.M(\'F: U: 1v 1Z 32 1e 1V.\');q}c(6.8.I===\'f\'&&6.8.s===\'\'){C.M("F: U: 1v 2k 2l 3a.");q}c(6.8.I===\'f\'&&6.8.s===\'14\'){c(2D(14)!==\'2f\'){6.8.s=14}v{C.M(\'F: U: 1M 2k 2l "14" 3h 3e 2u 1U.\');q}}c(6.8.s.r-1<6.2r){C.M(\'F: U: "3l" 39 a 0-15 (0 = 2o 3d 2A).\'+\'1v 2A 20 1U 3i 2o 1V 15 (\'+6.2r+\')\');q}o k=6;c(6.8.2g){6.N.1g(F.2Y.2Z(6.2s,{}))}c(6.8.I===\'1g\'){6.8.s=6.2n();$.1I(k.1G()).1T(g(){k.N.1g(k.1u());k.1q()})}c(6.8.I===\'1S\'){$.3O(6.8.s,g(Q){c($(Q).1d(\'2q\').r>0){k.8.s=$(Q).1d(\'2q\');k.8.s=k.2w();$.1I(k.1G()).1T(g(){k.N.1g(k.1u());k.1q()})}v{C.M(\'F: U: 1M 1Z 3G 3F\\\'t 2u 1U 3E 20 3C.\');q}})}c(6.8.I===\'f\'){$.1I(6.1G()).1T(g(){k.N.1g(k.1u());k.1q()})}},1u:g(){o k=6,$1h=$(\'#\'+6.1h),i,j;$.19(6.8.s,g(i){o l={},$P=$1h.1d(\'P[u="\'+6.u+\'"]\'),1t;l.u=6.u;l.m={};l.9={};l.D=k.8.D;l.K=6.K;l.m.12=$P.m();l.9.12=$P.9();l.m.p=k.2m;l.9.p=x.B((l.9.12*l.m.p)/l.m.12);c(k.8.1s){c(k.8.2x){1t=k.8.1s+\'[\'+k.L+\']\'}v{1t=k.8.1s}l.1a=1t}c(k.8.1A&&6.1n){l.T=O;l.1e=6.1n;l.1x=k.8.1X;3D l.1a}v c(k.8.1A){l.T=O;l.1e=6.u;l.1x=k.8.1X}v{l.T=11}k.7.z(l)});6.7=6.2F(6.7);c(!6.8.1r){6.7.3m(g(a,b){c(k.8.1y){q(0.5-x.1y())}v{q(a.9.12-b.9.12)}});6.7.3J()}o 1B=[],1C=O;c(!6.8.1r){2K(6.7.r>0){c(1C){1B.z(6.7.2e())}v{1B.z(6.7.3K())}1C=!1C}6.7=1B}o W=0;y(i=0;i<6.7.r;i++){c(W===6.8.d){W=0}c(!6.d[W]){6.d[W]=[]}6.d[W].z(6.7[i]);W++}c(6.8.1r){o 1b=[];y(i=0;i<6.d.r;i++){y(j=0;j<6.d[i].r;j++){c(!1b[i]){1b[i]=[]}1b[i].z(6.7[0]);6.7.2e()}}6.d=1b}o f={d:[]},1z=[];y(i=0;i<6.d.r;i++){o S=0;y(j=0;j<6.d[i].r;j++){S=S+6.d[i][j].9.p}S=S+(6.d[i].r-1)*6.8.D;1z.z(S);f.d[i]={};f.d[i].7=6.d[i];f.d[i].9=S;f.d[i].D=6.8.D}o 33=6.34(1z),31=6.2i(1z),2X=x.B((33+31)/2);c(6.8.9===\'1E\'){f=6.1L(f,2X)}v{f=6.1L(f,6.8.9)}q F.2Y.2Z(6.35,f)},1L:g(f,1D){f=6.2S(f);y(i=0;i<f.d.r;i++){f=6.27(f,i);c(f.d[i].9>1D){f.d[i]=6.2N(f.d[i],1D)}v{f.d[i]=6.2U(f.d[i],1D)}}q f},37:g(){o 1K=6.8.m,1J=6.8.36,2L=3n(6.8.s).r,10=0,1p={w:4,h:3},i=0;c(6.8.2J){2K(10===0){c(2L<=((i+1p.w)*(i+1p.h))){10=i+1p.w}v{++i}}6.8.m=((10*1J)>=1K)?1K:10*1J;6.8.d=10}},2N:g(e,9){o J=e.7.r,Z=e.9-9,17=Z%J,E=x.B(Z/J),1k=E+17,2R=x.B(E/2),2O=x.B((E+17)/2),2T=6.2v(e.7),i;y(i=0;i<J;i++){c(i===2T.15){e.7[i].9.A=e.7[i].9.p-1k}v{e.7[i].9.A=e.7[i].9.p-E}e.7[i].m.A=e.7[i].m.p;e.7[i].1m={1Y:\'3z\',24:x.B((e.7[i].9.p-e.7[i].9.A)/2)}}q e},2U:g(e,9){o J=e.7.r,Z=9-e.9,17=Z%J,E=x.B(Z/J),1k=E+17,2R=x.B(E/2),2O=x.B((E+17)/2),2Q=6.2a(e.7),i;y(i=0;i<J;i++){c(i===2Q.15){e.7[i].9.A=e.7[i].9.p+1k}v{e.7[i].9.A=e.7[i].9.p+E}e.7[i].m.A=e.7[i].m.p;e.7[i].m.p=x.B((e.7[i].m.p*e.7[i].9.A)/e.7[i].9.p);e.7[i].9.p=e.7[i].9.A;e.7[i].1m={1Y:\'26\',24:x.B((e.7[i].m.p-e.7[i].m.A)/2)}}q e},34:g(H){o Y=0,i;y(i=0;i<H.r;i++){c(Y===0){Y=H[i]}v c(H[i]<Y){Y=H[i]}}q Y},2i:g(H){o 1i=0,i;y(i=0;i<H.r;i++){c(H[i]>1i){1i=H[i]}}q 1i},2a:g(7){o 13=0,25=0,i;y(i=0;i<7.r;i++){c(13===0){13=7[i].9.p}v c(7[i].9.p<13){13=7[i].9.p;25=i}}q{9:13,15:25}},2v:g(7){o 1l=0,22=0,i;y(i=0;i<7.r;i++){c(7[i].9.p>1l){1l=7[i].9.p;22=i}}q{9:1l,15:22}},2S:g(f){f.d[f.d.r-1].16=O;q f},27:g(f,i){f.d[i].7[f.d[i].7.r-1].16=O;q f},2F:g(7){o X=[];$.19(7,g(i){c(3y(6.9.p)){X.z(i)}});$.19(X,g(i){C.M(\'F: U: 1M 3o l 3p 3q 30 3A 20 3B.\\n\'+7[X[i]].u);o 28=7.3L(X[i]+1);7.r=X[i];7.z.1R(7,28)});q 7},1G:g(){o 23=$.29(),1P=[],$7=$(\'<R>\').1f({\'L\':6.1h,\'1H\':\'2z\'});$.19(6.8.s,g(i){o 1F=$.29(),$2C=$(\'<P>\').3g(1F.1O).30(1F.1O).1f({u:6.u});$7.2P($2C);1P.z(1F)});$.1I.1R(1N,1P).3v(23.1O,$(\'3w\').2P($7));q 23.3H()},2n:g(){o s=[],$7=6.N.1d(\'P\'),i;y(i=0;i<$7.r;i++){o l={};l.u=($7.1c(i).2t(\'a\').r>0&&6.8.1A)?$7.1c(i).2t(\'a\').1f(\'2j\'):$7.1c(i).1f(\'u\');l.K=$7.1c(i).1f(\'1o\');s.z(l)}q s},2w:g(){o s=[];6.8.s.1d(\'18\').19(g(i){o 18={},Q=$(6);18.K=Q.1j(\'1o\').21();18.u=Q.1j(\'u\').21();18.1n=Q.1j(\'1n\').21();s.z(18)});q s},1q:g(){o $2b=6.N.1j().1c(0)[0];c($.3s(6.8.1Q)){6.8.1Q.1R(6,[$2b])}}});$.3N.G=g(1w){6.19(g(i){c(!6.G){6.G=2c G();6.G.2B(6,1w,i)}});q 6}})(3x);',62,237,'||||||this|images|opts|height|||if|columns|col|json|function||||self|image|width||var|adjusted|return|length|gallery||src|else||Math|for|push|constraint|floor|console|padding|divy|PhotoMosaic|photoMosaic|list|input|count|caption|id|log|obj|true|img|data|div|col_height|link|ERROR|px|current_col|to_delete|smallest|diff|cols|false|original|smallest_height|PMalbum|index|last|mod|photo|each|modal|forced_cols|eq|find|path|attr|html|preload|biggest|children|divy_mod|largest_height|adjustment|url|title|ratio|modalCallback|force_order|modal_name|modal_text|makeMosaic|No|options|external|random|col_heights|links|order|bool|target_height|auto|dfd|preloadify|class|when|ideal_width|max_width|adjustHeights|The|null|resolve|promises|modal_ready_callback|apply|xml|then|found|specified|style|external_links|type|XML|was|text|index_of_largest|deferred|value|index_of_smallest|left|markLastImageInColumn|rest|Deferred|findSmallestImage|node|new|Date|shift|undefined|show_loading|margin|getBiggest|href|JSON|object|col_width|constructGalleryFromHTML|the|col_mod|photos|current_album|loading_template|parent|be|findLargestImage|constructGalleryFromXML|modal_group|msg|PM_preloadify|album|init|item|typeof|ol|errorCheck|errors|photoMosaic_|extend|auto_columns|while|num_images|li|scaleColumnDown|offset_mod|append|smallest_image|offset|markLastColumn|largest_image|scaleColumnUp|el|defaults|average_col_height|Mustache|to_html|load|tallest_col|file|shortest_col|getSmallest|template|ideal_column_width|autoCols|rel|uses|defined|_blank|target|first|not|photoMosaicLoading|error|can|at|loading|float|start_album|sort|eval|following|failed|to|parse|isFunction|100|prototype|done|body|photomosaicJQ152|isNaN|top|and|skipped|malformed|delete|or|couldn|either|promise|10000|reverse|pop|slice|round|fn|get'.split('|'),0,{}))
